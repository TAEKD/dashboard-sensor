<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Antares Data Dashboard</title>
</head>
<body>
    <h1>Data Monitoring</h1>
    <div id="data-container">
        <p>Suhu: <span id="suhu"></span> Â°C</p>
        <p>TDS: <span id="tds"></span> ppm</p>
        <p>pH: <span id="ph"></span></p>
    </div>

    <script>
        // Function to fetch data from Antares
        function fetchData() {
            // Replace with your actual Antares API endpoint
            var apiUrl = 'https://platform.antares.id:8443/~/antares-cse/cnt-gUKXRDLXvwI9t3b3';

            fetch(apiUrl)
                .then(response => response.json())
                .then(data => {
                    // Parse data
                    var dataString = data.data.replace(/[{}]/g, ''); // Remove curly braces
                    var dataArray = dataString.split(','); // Split into array of values
                    var suhu = parseFloat(dataArray[0].trim()); // Suhu
                    var tds = parseFloat(dataArray[1].trim()); // TDS
                    var ph = parseFloat(dataArray[2].trim()); // pH

                    // Update HTML elements with data
                    document.getElementById('suhu').textContent = suhu.toFixed(2);
                    document.getElementById('tds').textContent = tds.toFixed(2);
                    document.getElementById('ph').textContent = ph.toFixed(2);
                })
                .catch(error => console.error('Error fetching data:', error));
        }

        // Fetch data initially
        fetchData();

        // Polling interval (every 1 minute)
        setInterval(fetchData, 60000); // 60000 milliseconds = 1 minute
    </script>
</body>
</html>
